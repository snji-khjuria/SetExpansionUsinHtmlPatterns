(function(u,z,O){u.execute(function(){u.register("postMetric",function(){return{postCountMetric:function(r){if("undefined"!==typeof r){var d=z.ue;if(d){var e=d.count(r)||0;d.count(r,e+1)}}}}});u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(r,d,e,l){e.extraVideos&&(l.videos=r.merge(e.extraVideos,l.videos),delete e.extraVideos);r=r.extend(!0,{},e,l);var b=new d(r);u.register("ImageBlockAPI",function(){return b.api});return b});
u.when("A","jQuery","ImageBlockBTF").register("ImageBlockAiryLoader",function(r,d,e){r=e.airyConfig;r.jsUrl&&u.load.js(r.jsUrl);r.cssUrl&&u.load.css(r.cssUrl)});u.when("A","jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(r,d,e,l,b,a){var c={};return function(f){var h=this;h.dispatch=function(a,e){var f=c[a];b.isDefined(f)&&d.each(f,function(a,b){b.call(z,e)})};h.register=function(a,d){b.isDefined(c[a])||(c[a]=[]);
"function"===typeof d&&c[a].push(d)};h.model=new e(f,h);h.view=new l(f,h,h.model);h.api=new a(f,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockModel",function(r,d,e){function l(a,b,c,d,f){e.isDefined(a)&&(k.type=a);e.isDefined(b)&&(k.index=b);e.isDefined(c)&&(k.thumbnailIndex=c);e.isDefined(d)&&(k.variant=d);e.isDefined(f)&&(k.color=f)}function b(a){l("image",0,0,"MAIN",a||h.landingAsinColor||h.defaultColor)}
function a(a){a=a.data;m=r.copy(k);l(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function c(b){a(b);b=r.copy(b);b.data=r.copy(k);g.dispatch("updateView",b)}function f(){m=r.copy(k);b(k.color)}var h,g,k={},m={},q;return function(d,e){g=e;h=d;g.register("updateSelection",c);g.register("updateModel",a);g.register("resetModel",f);this.init=function(){b()};this.getCurrentItem=function(){return r.copy(k)};this.getPreviousItem=function(){return r.copy(m)};this.setCurrentEvent=function(a){q=a};this.getCurrentEvent=
function(){return q}}});u.when("ImageBlockBTF").execute(function(r){function d(a,b,d,e,g){function k(a){"click"===a.type&&n.overrideAltImageClickAction?w.dispatch("thumbActionClick",a):w.dispatch("updateSelection",a)}function l(a){n.useClickZoom||w.dispatch("imageClick",a)}function q(a){n.useClickZoom||w.dispatch("imageHover",a)}function r(a){w.dispatch("button360Click",a)}function p(b){!d.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(C.update(b),"swatchHover"!==b.type&&
F.getPreviousItem().thumbnailIndex!==b.data.thumbnailIndex&&e.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):C.render(b.data.color,!1,b.onload)}function t(a){w.dispatch("resize",a)}function u(a){d.selectThumbnail(a,H)}function D(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function v(a){var b=F.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}var C,n,w,F,H;return function(d,e,f){C=this;n=d;
w=e;F=f;H=b("#imageBlock #altImages ul");var h=b("#imageBlock .canvas"),K=b("#main-image-container"),J;C.subViews=[];for(e=0;e<g.length;e++)C.subViews.push(new g[e](d,f,C,w));C.render=function(a,d,e){var f=0;H.find(".item").remove();a=a||F.getCurrentItem().color;b.each(C.subViews,function(b,c){f=c.render(a,f,h,H,K,d,e)||f});var g=H.find(".a-button-selected").closest(".a-declarative");J=v(g)};C.init=function(){H=b("#imageBlock #altImages ul");var d=H.find(".a-button-selected").closest(".a-declarative"),
e=d.data("action"),d=d.data(e)||{};d.color=n.landingAsinColor||n.defaultColor;w.dispatch("updateModel",{data:d});C.render(d.color,!0);n.isDebug&&z.console&&console.log(n);w.register("updateView",p);w.register("selectThumbnail",u);n.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],k);a.declarative("thumb-action",["click"],k);a.declarative("main-image-click",["click"],l);a.declarative("main-image-click",["mouseenter","mouseleave"],q);a.declarative("button-360-click",
["click"],r);b(z).resize(t)};C.update=function(a){b.each(C.subViews,function(b,c){c.update(a)});n.usePeekHover&&("mouseleave"===a.type?w.dispatch("updateSelection",J):"click"===a.type&&(J=D(a)||J))}}}var e=r.views,l=e.indexOf("ImageBlockAltImageView"),b=e.indexOf("ImageBlockVideoView");r.videoIngressExperimentTreatment&&"C"!==r.videoIngressExperimentTreatment&&0<l&&0<b&&(e[l]="ImageBlockVideoView",e[b]="ImageBlockAltImageView");r=["A","jQuery","imageBlockUtils","postMetric"].concat(e);u.when.apply(u,
r).register("ImageBlockView",function(){for(var a=arguments[0],b=arguments[1],e=arguments[2],h=arguments[3],g=[],k=4,l=arguments.length;k<l;k++)g.push(arguments[k]);return d(a,b,e,h,g)})});u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockAltImageView",function(r,d,e,l,b){function a(a,b,c,f){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var g=w.getCurrentItem();if(!f||"chromeless-video"!==g.type||!n.autoplayVideo){f=0;"image"===g.type&&
(f=Math.max(h(g.color,g.variant),0));var k=b+f;k>=c&&(f=0,k=b);b=e.getImageHash(g.color,f,n);-1!==b&&(F.dispatch("updateModel",{data:{index:f,thumbnailIndex:k,variant:b.variant,type:"image"}}),b=a.find(".item").get(k),e.selectGivenThumbnail(d(b),a))}}}function c(b,c,f){c=n.colorImages&&n.colorImages[c];var g=b;e.isDefined(c)&&(d.each(c,function(a,c){b<n.maxAlts&&(e.createThumbnail({type:"image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,H,"imageThumbnail"),b++)}),a(H,g,b,f));return b}function f(a,
b){if("image"===a.type){var c=d("#image-canvas-caption #canvasCaption"),e,f=n.staticStrings,g=n.colorImages,h=a.color,k=a.index;b&&n.useIV?e=f.clickToExpand:g[h]&&g[h][k].hiRes&&n.useHoverZoom?(e=n.useHoverZoomIpad?f.touchToZoom:n.useClickZoom?f.clickToZoom:f.rollOverToZoom,n.hoverZoomIndicator&&(e="<img src='"+n.staticImages.hoverZoomIcon+"'/>&nbsp;"+e)):n.useIV&&(e=f.clickToExpand);c.html(e)}}function h(a,b){return e.getIndexForVariant(a,b,n)}function g(a,b){var c;d.each(a.main,function(a,b){e.isDefined(c)||
(c=parseFloat(b[1]/b[0])<=parseFloat(n.holderRatio)?"a-stretch-vertical":"a-stretch-horizontal")});var f="a-dynamic-image "+c,g=e.getMaxDimensionsOfMainImage(a.main,E,n),h=g[0],k=g[1],g=d("<div></div>"),h={"max-height":h,"max-width":k};g.addClass(f).css(h).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);return g}function k(a){var b=x.find(".swatchHoverExp");a=g(a);b.find(".imgTagWrapper").html(a);r.loadImageManually(a);return b}function m(a){var b=
E.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");n.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(n.imgTagWrapperClasses)}function q(a,c){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){var d=e.getImageHash(a.color,a.index,n);if(-1===d)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(a,w,n)?t(a,!1,c):(F.dispatch("updateModel",d),e.showUnavailable(a.color)),-1;var h=x.find(".item.itemNo"+
a.thumbnailIndex);if(!e.isjQueryObjDefined(h)){var h=a.thumbnailIndex,h=x.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+h+" maintain-height"),k=g(d,c);h.find(".placeHolder").replaceWith(k);x.find(".list").append(h);r.loadImageManually(k)}m(h);F.dispatch("loadMagnifier");f(a);n.useIV&&e.isDefined(d.hiRes)&&h.css("cursor","pointer");a.isUserGenerated&&(h=w.getPreviousItem(),k=a.variant,e.isDefined(k)&&h.thumbnailIndex!==a.thumbnailIndex&&(b.postCountMetric("ImageThumbnailSelectedVariant:"+
k),0===k.indexOf("IG")&&(b.postCountMetric("IGImageSelectedVariant:"+k),b.postCountMetric("IGImageSelectedEvent:"+a.interaction))));r.trigger("dp:image-block:update",d)}}function y(a){var b=Math.max(h(a.color,w.getCurrentItem().variant),0),b=e.getImageHash(a.color,b,n);if(-1===b)return e.lazyLoadingRequired(a,w,n)?e.lazyLoadOnHoverEnabled(n)&&(p(".3",!0),e.spinner(x,!0),r.delay(function(){w.getCurrentEvent().data===a&&t(a,!0)},500)):e.showUnavailable(a.color),-1;var c=k(b);m(c);r.trigger("dp:image-block:update",
b)}function p(a,b){b?x.css("opacity",a):d("#imageBlock").css("opacity",a)}function t(a,b,c){Q=b;R=c;var d=a.color,f=n.colorToAsin[d];if(f&&f.asin){var g={};g.params={asin:f.asin,productGroupID:n.productGroupID,color:d};g.success=function(g){g?(e.ajaxState(f.asin,"success"),n.colorImages[d]=g.colorImage,e.isDefined(n.spin360ColorEnabled)&&(n.spin360ColorEnabled[d]=g.enable360),d===a.color&&(b&&Q?a===w.getCurrentEvent().data&&(z(a),y(a)):(g={type:"updatedData",data:w.getCurrentItem(),onload:c||R},F.dispatch("updateView",
g))),u.register(e.rankedImagesReadyEvent(f.asin))):e.ajaxState(f.asin,"fail")};g.error=function(){e.ajaxState(f.asin,"fail")};g.indicator=e.spinner(x);e.ajaxState(f.asin,void 0)&&"fail"!==e.ajaxState(f.asin,void 0)||(p(".3",b),l.load("/gp/product/features/apparel-main-image/ranked-images.html",g),e.ajaxState(f.asin,"sent"));return n.colorImages&&n.colorImages[d]}}function z(a,b){e.lazyLoadingRequired(a,w,n)||(d("#imageBlock").css("opacity","1"),x.css("opacity","1"),e.spinner(x,!1),x.find("li").removeClass("selected"),
d("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),b&&x.find(".list .item").remove())}function D(){var a=x.find(".item .imgTagWrapper"),b=e.getContainerHeight(E,n.holderRatio,n.holderMaxHeight);0<b&&(E.height(b),a.height(b));x.find("img.a-dynamic-image").each(function(){var a=d(this);a.data("a-manual-replacement")&&r.loadDynamicImage(this);var b=a.data("a-dynamic-image"),b=e.getMaxDimensionsOfMainImage(b,E,n);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function v(a){f(w.getCurrentItem(),
"mouseenter"===a.type)}var C,n,w,F,H,x,E,Q,R;return function(a,b,d,f){C=this;n=a;w=b;F=f;n.colorImages[n.landingAsinColor]=n.colorImages[n.defaultColor];C.render=function(a,b,d,f,g,h,k){x=d;H=f;E=g;a=c(b,a,h);h||(b=w.getCurrentItem(),e.lazyLoadingRequired(b,w,n)&&F.dispatch("updateModel",{data:{type:"lazy-loaded"}}));z(w.getCurrentItem(),!h);q(w.getCurrentItem(),k);return a};C.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&z(a.data,!1);"swatchHover"===a.type?b.color===w.getCurrentItem().color?
q(w.getCurrentItem()):a.captured||-1===y(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,q(b),n.usePeekHover&&"click"!==a.type||e.selectGivenThumbnail(a.$declarativeParent,H))};F.register("imageHover",v);F.register("resize",D)}});u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockMagnifierView",function(r,d,e,l){function b(a){u?a.css("cursor","url('"+g.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor",
"-moz-zoom-in"),a.css("cursor","zoom-in"))}function a(a){var b=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(e.isDefined(b))for(var b=b[1].split("_"),c=0;c<b.length;c++){var d=b[c].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(d)&&(a[d[1]]=parseInt(d[2],10))}return a}function c(c,f){function h(){var a;f.useClickZoom?(a=f.offsetInClickZoom,a=[Math.min(1,Math.max(0,Q[0]-(K[0]+a))/(K[2]-2*a)),Math.min(1,Math.max(0,Q[1]-(K[1]+a))/(K[3]-2*a))]):a=E&&E.updatePosition();if(a&&x&&x.detailSize){var b=
[x.detailSize[0]-x.rect.width,x.detailSize[1]-x.rect.height];x.detailImage.get(0).style.left=-(a[0]*b[0])+"px";x.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function k(a){var b=N?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";Q=N?[b.pageX,b.pageY]:[a.pageX,a.pageY]}function m(a){N&&a.preventDefault();k(a);f.useClickZoom?a=[K[0],K[1],K[0]+K[2],K[1]+K[3]]:(a=E?E.offset:c.offsetParent().offset(),a=[R[0]+a.left,R[1]+a.top,R[0]+R[2]+a.left,R[1]+R[3]+a.top]);Q[0]<a[0]||Q[1]<a[1]||
Q[0]>=a[2]||Q[1]>=a[3]?(f.fadeMagnifier?ca||(ca=!0,ea=setTimeout(function(){q(!0)},500)):f.useClickZoom||q(),da&&(da=!1,clearTimeout(ba))):(da||(da=!0,ba=setTimeout(function(){l.postCountMetric("dppc_hoverZoomOpened")},1E3)),f.fadeMagnifier&&ca&&(ca=!1,clearTimeout(ea)),h())}function q(a){a&&r.suppressMagnifier(!0);if(O&&(x&&x.hide(),E&&(E.destroy(),E=null),O=!1,N?(c.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),d(document).trigger("disengaged.magnifier")):d(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),
w(),a))c.one("click.magnifier touchstart.magnifier",function(a){n(a,!0)})}function n(a,b){b&&r.suppressMagnifier(!1);if(!O&&!U&&(0===ka&&(l.postCountMetric("dppc_hoverTime",new Date-(z.ue&&z.ue.t0||0)),ka=1),S[P]||(l.postCountMetric("dppc_hoverMain"),S[P]=1),R=[c.position().left,c.position().top,c.width(),c.height()],P&&(k(a),x?x.refit().show():x=new T,f.useClickZoom||(E=E||new L),K=x.getWindowSize(),h()),O=!0,N?(c.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",m).bind("touchend.magnifier",
q),d(document).trigger("engaged.magnifier")):(c.unbind("mousemove.magnifier"),d(document).trigger("engaged.magnifier").bind("mousemove.magnifier",m)),b)){var e=d("#zoomWindow");if(0<e.length)e.one("click.magnifier touchend.magnifier",function(a){q(!0)})}}function w(){f.useHoverZoom&&(N?c.bind("touchstart.magnifier touchmove.magnifier",n):c.bind("mousemove.magnifier",n))}var r=this,H={detailImageUrl:c.attr("data-old-hires"),location:"over",locationElement:c,prelaod:"ready",zIndex:50,offsetInClickZoom:50};
f=d.extend(H,f);f.adjustment=[10,0,-10,0];var x=null,E=null,Q=null,R=null,K=null,J={"null":1,"":1,undefined:1},O=!1,U=!1,P=f.detailImageUrl,N=f.useHoverZoomIpad||0,ka=0,S={},L=function(){function a(b){var d=Math.round(Math.min(c.width(),x.rect.width/b));b=Math.round(Math.min(c.height(),x.rect.height/b));m.css({width:d,height:b});h=[d,b]}var e=this,h=[0,0],k=(x.detailSize&&x.detailSize[0]||5E8)/R[2],l=(x.detailSize&&x.detailSize[1]||5E8)/R[3],k=l>k?l:k;d("#magnifierLens").remove();var m=d("<div id='magnifierLens' />").css({backgroundImage:"url("+
f.generalImageUrls.zoomLensBackground+")",position:"absolute"});g.showMagnifierOnHover?b(m):m.css("cursor","pointer");e.updatePosition=function(){var a=[R[2]-h[0],R[3]-h[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(Q[0]-h[0]/2-R[0]-e.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(Q[1]-h[1]/2-R[1]-e.offset.top)/a[1])),d=R[0]+Math.round(b*a[0]),a=R[1]+Math.round(c*a[1]);m.get(0).style.left=d+"px";m.get(0).style.top=a+"px";return[b,c]};e.destroy=function(){m.remove()};e.offset=c.offsetParent().offset();
a(k);e.updatePosition();m.appendTo(c.parent());x.detailImage[0].complete||x.detailImage.load(function(){var b=x.detailImage.width()/R[2];a(b);e.updatePosition()})};L.preload=function(){r.preload(f.generalImageUrls.lensBackgroundUrl)};var T=function(){function b(){var a={};if("over"===f.location){var a=f.useClickZoom,g={},h=d("#leftCol"),m=d("#centerCol"),q=d("#rightCol"),w=d("#hover-zoom-end"),x=d("#actionPanelContainer"),r=e.isjQueryObjDefined(h)?h.outerHeight():m.outerHeight();g.top=e.isjQueryObjDefined(h)?
h.offset().top:m.offset().top;g.bottom=r+g.top;g.right=e.isjQueryObjDefined(q)?q.offset().left:x.offset().left;g.left=a?0:h.offset().left+h.outerWidth();e.isjQueryObjDefined(w)&&w.offset().top>g.bottom&&(g.bottom=w.offset().top);a=g}else"right"===f.location&&(a=c.offset(),a={left:a.left+c.outerWidth(),top:a.top,right:a.left+c.outerWidth()+400,bottom:a.top+400});f.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+d(f.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,d(z).scrollTop()+d(z).height());
a.left+=l[0];a.top+=l[1];a.right+=l[2];a.bottom+=l[3];a.width=a.right-a.left;a.height=a.bottom-a.top;f.enhancedHoverOverlay&&e.isDefined(z.pageXOffset)&&(g=d(z).width(),a.width=g-a.left+z.pageXOffset-18,a.height-=14);n.css({left:a.left,top:a.top,width:a.width,height:a.height});k.rect=a;return k}function g(b){var c=new Image;k.detailSize=[0,0];c.onload=function(){k.detailSize=[c.width,c.height];h()};c.src=b.attr("src");if(0<c.width&&0<c.height)k.detailSize=[c.width,c.height];else if(f.detailImageSize)k.detailSize=
f.detailImageSize;else{b=a(c.src);var d=R[2]/R[3];b.SS||b.AA?(b=b.SS||b.AA,k.detailSize=[b,b]):b.SX?k.detailSize=[b.SX,Math.round(b.SX/d)]:b.SY?k.detailSize=[Math.round(b.SY*d),b.SY]:b.SL&&(k.detailSize=1<=d?[b.SL,Math.round(b.SL/d)]:[Math.round(b.SL*d),b.SL])}}var k=this,l=f.adjustment;d("#zoomWindow").remove();var m={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:f.zIndex};f.enhancedHoverOverlay&&(m.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",m.border="1px solid #949494",m.borderColor=
"rgb(148,148,148)");var n=d("<div id='zoomWindow' />").css(m);f.fadeMagnifier&&n.fadeIn(200);f.useClickZoom&&(u?n.css("cursor",'url("'+f.zoomOutIcon+'"), auto'):(n.css("cursor","-webkit-zoom-out"),n.css("cursor","-moz-zoom-out"),n.css("cursor","zoom-out")));k.updateImage=function(a){a=d("<img id='detailImg' src='"+a+"'/>").css("position","absolute");k.detailImage&&k.detailImage.remove();n.append(a);d(document).trigger("updated.magnifier");k.detailImage=a;g(k.detailImage)};k.refit=function(){b();g(k.detailImage);
return k};f.fadeMagnifier?(k.show=function(){n.fadeIn(200);return k},k.hide=function(){n.fadeOut(200);return k}):(k.show=function(){n.show();return k},k.hide=function(){n.hide();return k});k.destroy=function(){n.remove();return k};k.getWindowSize=function(){return[k.rect.left,k.rect.top,k.rect.width,k.rect.height]};k.updateImage(P);b();n.appendTo(document.body)},ca=!1,ea,da=!1,ba;r.preload=function(a){a=d.makeArray(a);for(var b=a.length,c=0;c<b;c++)a[c]instanceof Array?r.preload(a[c]):"string"===
typeof a[c]&&a[c]&&!J[a[c]]&&(J[a[c]]=new Image,J[a[c]].src=a[c])};r.changeImage=function(a,b){O&&q();P=b;c.attr("src",a);r.preload(a);R=[c.position().left,c.position().top,c.width(),c.height()];b&&("immediately"===f.preload?r.preload(b,!0):d(z).ready(function(){r.preload(b)}),x?x.updateImage(b):c.attr("data-old-hires",b))};r.destroy=function(){c.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");d(document).unbind("mousemove.magnifier");E&&E.destroy();E=null;x&&x.destroy();
x=null};r.detailImage=function(){return x.detailImage};r.suppressMagnifier=function(a){U=a};r.isEngaged=function(){return O};r.engageMagnifier=n;r.disengageMagnifier=q;c[0].complete?w():c.one("load",w);r.preload(c.attr("src"));if(f.preload){var ta=f.detailImageUrl,H=function(){r.preload(ta,!0);f.useClickZoom||L.preload()},qa=f.preload;qa.constructor!==Array&&(qa=[qa]);for(var ha=0;ha<qa.length;ha++)if("immediately"===qa[ha])H();else if(d(z)[qa[ha]])d(z)[qa[ha]](H);else d(z).bind(qa[ha],H)}return r}
function f(){if(g.useHoverZoom){var a={adjustment:[0,0,1,1],generalImageUrls:g.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:g.useHoverZoomIpad,useHoverZoom:g.useHoverZoom,useClickZoom:g.useClickZoom,fadeMagnifier:g.fadeMagnifier,zoomOutIcon:g.staticImages.zoomOutCur,enhancedHoverOverlay:g.enhancedHoverOverlay};m&&(m.destroy(),m=O);var b=q.find(".image.item.selected img[data-old-hires]").not("[data-old-hires='']");e.isjQueryObjDefined(b)&&
(g.useClickZoom?(b.one("click.loadmagnifier touchstart.loadmagnifier",function(d){m=new c(b,a);m.engageMagnifier(d,!0)}),u?b.css("cursor",'url("'+g.staticImages.zoomInCur+'"), auto'):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))):m=new c(b,a))}}var h,g,k,m,q,u=navigator.userAgent.match(/msie|trident/i);return function(a,b,c,d){h=this;g=a;k=d;h.render=function(a,b,c,d,e,f){q=c;m&&(m.destroy(),m=O)};h.update=function(a){};k.register("loadMagnifier",f);
k.register("resize",f)}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockTwisterView",function(r,d,e){function l(a,b,d){a=(a=d?d:e.getColorFromState(b.getState().hovered_variations,c))&&""!==a?a:c.defaultColor;h.dispatch("updateView",{type:"swatchHover",data:{color:a}})}function b(a,b,d,l){a=(a=l?l:e.getColorFromState(b.getState().selected_variations,c))&&""!==a?a:c.defaultColor;a===f.getCurrentItem().color?"function"===typeof d&&d():h.dispatch("updateSelection",{type:"swatchClick",
data:{color:a},onload:d})}var a,c,f,h;return function(d,e,m,q){a=this;c=d;f=e;h=q;r.on("image-block-twister-swatch-hover",l);r.on("image-block-twister-swatch-click",b);a.render=function(a,b,c,d,e){};a.update=function(a){}}});u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockVideoView",function(r,d,e,l,b,a){function c(a,b,c,e){!v.autoplayVideo||ka||v.useChromelessVideoPlayer?!l.isjQueryObjDefined(a.find(".a-button-selected"))&&!l.videoIngressExperimentEnabled(v)&&
(c=C.getCurrentItem(),!e||v.prioritizeVideos||"chromeless-video"===c.type&&v.autoplayVideo)&&(e=k(c.color,0),-1!==e&&(b+=0,n.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:e.variant,type:v.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=a.find(".item").get(b),l.selectGivenThumbnail(d(b),a))):(l.selectGivenThumbnail(a.find("img:last"),a),l.fadeToThumbnail(a.find("img").length-1,x,a))}function f(a){if(!v.useChildVideos)return l.lazyLoadingRequired(C.getCurrentItem(),
C,v)?void 0:v.videos;if(v.colorToVideo[a])return v.colorToVideo[a];var c=v.colorToAsin[a];if(c&&c.asin){var e={};e.params={asin:c.asin,productGroupID:v.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:v.useChromelessVideoPlayer,isUDP:v.isUDP};e.success=function(b){var e=function(){if(b){var c=l.isDefined(v.colorToVideo.initial[0])?l.isDefined(v.colorToVideo.initial[0].banner):!1;v.displayVideoBanner&&c&&(b=d.merge([v.colorToVideo.initial[0]],b));v.colorToVideo[a]=b;c={type:"updatedData",
data:C.getCurrentItem()};n.dispatch("updateView",c)}};v.lazyLoadExperienceDisabled?e():u.when(l.rankedImagesReadyEvent(c.asin)).execute(function(){e()})};b.load("/gp/product/features/apparel-main-image/videos.html",e);return v.colorToVideo&&v.colorToVideo[a]}}function h(){n.dispatch("selectThumbnail",l.videoIngressExperimentEnabled(v)?1:0)}function g(b,c,f,g){return e.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:c.url,swfUrl:f.swfUrl,foresterMetadataParams:f.foresterMetadataParams,
backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var c=l.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";a.postCountMetric("dppc_chromelessVideo:"+c)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){h();a.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){h();a.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){K.seek(0)}},cuePoints:[{values:c.durationSeconds-
1,type:"position",callback:function(a,c,e){a=e.durationSeconds-e.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});h();d(this).show().css("opacity",1)})}}]})}function k(a,b){var c;if(v.useChildVideos){if(!l.isDefined(v.colorToVideo))return-1;c=v.colorToVideo[a]}else c=v.videos;return l.isDefined(c)&&l.isDefined(c[b])&&l.isDefined(c[b].url)?c[b]:-1}function m(){if(l.videoIngressExperimentEnabled(v)){if(1<
l.getVideosCount(C.getCurrentItem().color,v)){if(l.isDefined(R)){H.show();return}R=d('<a class="more-videos"></a>').attr("href","#").text(v.staticStrings.watchMoreVideos);H.find("#videoCaption").append(R);r.declarative.create(R,"videoIngressClick",P)}l.playVideoInImmersiveView(v,C.getCurrentItem().color)&&(r.declarative.create(F,"videoIngressClick",P),F.children().css("z-index","-1"),F.css("display","inline-block"))}else H.find("#videoCaption").text(v.staticStrings.playVideo),H.show()}function q(a){if("chromeful-video"===
a.type||"chromeless-video"===a.type){var b=k(a.color,a.index);O=v.displayVideoBanner&&l.isDefined(b.banner);if(-1===b)return-1;b.banner&&"nobanner"===b.banner.layout&&(U=!0);if("chromeful-video"===a.type){a=x.width()/x.height();var c=parseInt(b.videoWidth,10),e=parseInt(b.videoHeight,10);l.updateAspectRatio(a,c,e,F);K?(K.show(),l.loadMediaIntoAiry(K,b,J),m(),O&&(S||t(b))):(K=l.createAiryInstanceForChromeful(F,b,J,null,v.autoplayVideo,x,H,w),t(b),m());b=K;v.autoplayVideo&&b&&!ka&&(l.toggleVideoCaption(H),
b.setVolume(0),b.show(),b.play(),ka=!0)}else K?(K.show(),l.loadMediaIntoAiry(K,b,J),K.play(),H.show(),O&&(S||t(b))):(K=g(F,b,J),t(b),K&&K.play());O?(l.repositionVideoBanner(x,F,E),U||(E.addClass("show-banner"),x.css({height:x.height()+80}),d("#imageBlock").addClass("show-banner"),x.addClass("show-banner"),F.append(H))):E.removeClass("show-banner")}}function y(b,e,g){var h=f(e);e=b;l.isDefined(h)&&0<h.length&&v.alwaysIncludeVideo&&b===v.maxAlts&&(w.find(".item:last").remove(),b--);l.isDefined(h)&&
(d.each(h,function(c,d){if(b<v.maxAlts){var e=v.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f={type:e,index:c,thumbnailIndex:b,variant:d.variant};P={type:"video-ingress",index:c,thumbnailIndex:b,variant:d.variant};if(v.displayVideoBanner&&v.isLargeSCLVideoThumbnail&&d.banner&&d.wideThumbUrl)l.createThumbnail(f,d.wideThumbUrl,w,L);else if(l.videoIngressExperimentEnabled(v)&&"chromeful-video"===e&&(L+=" videoBlockIngress",d.thumb=d.thumb.replace("_PKmb-play-button-overlay-thumb","")),
l.createThumbnail(f,d.thumb,w,L),l.videoIngressExperimentEnabled(v)){p(w.find(".videoBlockIngress img"),v.videoIngressATFSlateThumbURL);var f=1<h.length?"multiple-videos":"one-video",g=1<h.length?h.length+" "+v.staticStrings.multipleVideos:v.staticStrings.singleVideo;g&&w.find(".videoBlockIngress").append(w.find("#videoCount_template").clone().text(g).attr("id","videoCount")).addClass(f)}N||(N=!0,a.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));
b++}if(l.videoIngressExperimentEnabled(v))return!1}),c(w,e,b,g));return b}function p(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function t(a){!O||U?S=!1:(E=Q.find("#image_block_video_banner_temp").clone().removeClass("template").removeClass("aok-hidden").addClass("show-banner").attr("id","image_block_video_banner"),E.find("a").attr("href",encodeURI(a.banner.targetUrl+"?reftag="+a.banner.refTag)),E.find("img").attr("src",a.banner.logoUrl),
E.find("span").text(a.banner.subtext),F.append(E),S=!0)}function z(b){K&&K.pause();b.data=P;var c="a"===b.targetTag?"dpcc_vse_videoIngressLink":"dpcc_vse_videoIngressSlate";n.dispatch("imageClick",b);a.postCountMetric(c)}var D,v,C,n,w,F,H,x,E,Q,R,K,J,O,U,P,N=!1,ka=!1,S=!1,L="videoThumbnail";return function(a,b,c,e){D=this;v=a;C=b;n=e;J=v.airyConfig;v.colorToVideo={};v.colorToVideo[v.landingAsinColor]=v.colorToVideo[v.defaultColor]=v.videos;D.render=function(a,b,c,e,f,g){w=e;F=f.find("#main-video-container");
H=F.parent().find("#video-canvas-caption");x=d("#main-image-container");Q=F.parent().find("#banner-outer-container");E=F.parent().find("#image_block_video_banner");v.useChromelessVideoPlayer||F.addClass("chromeful-container");a=y(b,a,g);q(C.getCurrentItem());l.videoIngressExperimentEnabled(v)&&r.declarative("videoIngressClick",["click"],z);return a};D.update=function(a){var b=a.data;"ingress"!==b.type&&K&&(K.hide(),F.parent().css("z-index",-1),H.hide(),l.isDefined(E)&&E.removeClass("show-banner"));
if("swatchHover"===a.type)b.color===C.getCurrentItem().color?q(C.getCurrentItem()):a.captured||l.lazyLoadingRequired(b,C,v)&&!l.lazyLoadOnHoverEnabled(v)&&q(C.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)q(b),v.usePeekHover&&"click"!==a.type||l.selectGivenThumbnail(a.$declarativeParent,w)}}});u.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","ImageBlockLoader","postMetric").register("ImageBlockImmersiveView",function(r,d,e,l,b,a,c){function f(a){return a.hiRes||
a.large||a.main[a.main.length-1]}function h(a,c){var d=r.copy(a);if(b.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){d=a.substring(0,-1===e?f:e);break}}}catch(h){d=a.substring(0,c-3)}d+="..."}return d}function g(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,
"");var c="_AA50_";b&&(c+="FMpng_RI_");return k(a,c)}function k(a,b){var c=a.lastIndexOf(".");return a="_"===a.charAt(c-1)?a.substring(0,c-1)+b+a.substring(c):a.substring(0,c)+"."+b+a.substring(c)}function m(){I.find("#ivTitle").click(function(){pa.hide()})}function q(a){if(b.videoIngressExperimentEnabled(M)){var c=I.find("#ivMediaSelect");c.find("option[value='"+a+"']").attr("selected",!0);c.trigger("change")}}function u(){Z=ua?{type:"360-spin"}:ja.getCurrentItem()}function p(a,b){var c=parseInt(a.css(b),
10);return isNaN(c)?0:c}function t(){var a=I.find("#ivStage"),b=pa.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-p(c,"padding-top")-p(c,"padding-bottom");I.css("height",b);var c=I.find("#ivTitle").outerHeight(!0),d=I.find("#ivVariationSelection").outerHeight(!0),e=I.find("#ivMediaSelection").outerHeight(!0),f=I.find("#ivThumbs"),g=p(f,"margin-top")+p(f,"margin-bottom");f.css("height",b-c-d-e-g);I.find("#ivLargeImage").css("height",b);a.css("width",I.width()-p(I,"padding-left")-
p(I,"padding-right")-I.find("#ivThumbColumn").width()-p(a,"margin-left")-p(a,"margin-right"))}function G(){I.find("#ivMediaSelect").change(function(){var a=l(this).val();"all"===a?(I.find("#ivVideoList").hide(),I.find("#ivThumbs").show(),I.find(".ivThumbVideo").show(),"chromeful-video"===Z.type&&I.find("#ivVideo_"+Z.index).click()):"images"===a?(I.find("#ivVideoList").hide(),I.find("#ivThumbs").show(),I.find(".ivThumbVideo").hide(),"chromeful-video"===Z.type&&(0===W&&0===B?I.find("#iv360").click():
0===W?I.find("#ivHeroImage_0").click():I.find("#ivImage_0").click())):"videos"===a&&(I.find("#ivVideoList").show(),I.find("#ivThumbs").hide(),"chromeful-video"!==Z.type?I.find("#ivVideoList_0").click():I.find("#ivVideoList_"+Z.index).click())})}function D(){var a=I.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));
a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,g=Math.min(b/e,c/f),h=f*g,k=e*g;1>g?(jb?a.css("cursor","url('"+M.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Ua=!0):Ua=!1;e=Math.min(k,e);f=Math.min(h-20,f);d.css({"margin-top":(c-f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");Sa=!1}function v(a){var b=I.find("#ivLargeImage");b.css("visibility","hidden");b.empty();b.animate({opacity:1},200);
b.append(a);D()}function C(){la&&la.pause();I.find("#ivLarge360").css("display","none");I.find("#ivLargeVideo").css("display","none");I.find("#ivLargeImage").css("display","none");K()}function n(a){C();I.find("#ivLargeImage").css("display","block");var c;"hero-image"===a?b.isDefined(A)&&(c=f(A[Z.index])):b.isDefined(ma)&&(c=f(ma[Z.index]));if(b.isDefined(c)){I.find(".fullscreen").remove();var d=l("<img>").attr("src",c).addClass("fullscreen"),e=I.find("#ivLargeImage");w(e,function(){d.load(function(){v(d)});
if(d[0].complete)v(d);else{e.empty();var a=(e.height()-104)/2,b=(e.width()-80)/2;l("<img>").attr("src",M.staticImages.spinner).css({position:"relative",top:a+"px",left:b+"px"}).appendTo(e)}})}}function w(a,b){a.animate({opacity:.4},200,b)}function F(){var a=parseInt(Z.index,10)+1;a>=Aa.length||I.find("#ivVideo_"+a).click()}function H(a,c){ga||(ga=db.find("#image_block_video_banner_temp"),ga=ga.clone().removeClass("template").removeClass("aok-hidden").attr("id","immersive_view_video_banner").addClass("show-banner"),
ga.find("a").attr("href",encodeURI(c.banner.targetUrl+"?reftag="+c.banner.refTag)),ga.find("img").attr("src",c.banner.logoUrl),ga.find("span").text(c.banner.subtext));var d=I.find("#ivStage");a.addClass("show-banner");ga.addClass("show-banner");ga.appendTo(a);b.repositionVideoBanner(d,a,ga)}function x(){var a;b.isDefined(Aa)&&(a=Aa[Z.index]);if(b.isDefined(a)){C();var c=I.find("#ivLargeVideo").css("display","block");la?(la.isDetached()&&la.attach(c[0]),b.loadMediaIntoAiry(la,a,wa),la.show(),la.play({isAsync:!0}),
M.displayVideoBanner&&b.isDefined(a.banner)&&"nobanner"!==a.banner.layout?H(c,a):M.displayVideoBanner&&b.isDefined(ga)&&(ga.removeClass("show-banner"),I.find("#ivLargeVideo").removeClass("show-banner").css({width:"",height:""}))):(la=b.createAiryInstanceForChromeful(c,a,wa,"ImmersiveView"),M.displayVideoBanner&&b.isDefined(a.banner)&&"nobanner"!==a.banner.layout?H(c,a):M.displayVideoBanner&&b.isDefined(ga)&&(ga.removeClass("show-banner"),I.find("#ivLargeVideo").removeClass("show-banner").css({width:"",
height:""})),wa.enableContinuousPlay&&la.bind("ended",F),la.play({isAsync:!0}))}}function E(){u();var a;"hero-image"===Z.type?a=I.find("#ivHeroImage_"+Z.index):"image"===Z.type?(a=I.find("#ivImage_"+Z.index),q("all")):"chromeful-video"===Z.type||"chromeless-video"===Z.type?(a=I.find("#ivVideo_"+Z.index),q("videos")):a="360-spin"===Z.type?I.find("#iv360"):b.isDefined(A)?I.find("#ivHeroImage_"+Z.index):I.find("#ivImage_"+Z.index);b.isjQueryObjDefined(a)||(a=I.find("#ivImage_0"));Q(a)}function Q(a){I.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(Z.type="chromeful-video",Z.index=a.attr("id").split("_")[1],x()):a.hasClass("ivHeroImage")?(Z.type="hero-image",Z.index=a.attr("id").split("_")[1],n(Z.type)):a.hasClass("iv360Image")?(Z.type="360-spin",Z.index=0,R()):(Z.type="image",Z.index=a.attr("id").split("_")[1],n(Z.type))}function R(){C();I.find("#ivLarge360").css("display","block");N();var a=I.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});a.animate({opacity:1},
200)},200);Y();c.postCountMetric("dppc_click360");La=Date.now()}function K(){0<La&&(J("dppc_duration360",Date.now()-La),La=0)}function J(a,b){z.ue&&z.ue.count(a,b)}function Y(){if(0<Da){var a=I.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function U(a,b){if(Da<a.length){var c=l("<img style='display:block'/>");c.hide();b.append(c);c.get(0).onload=function(){b.closest(document.documentElement).length&&(Da++,1===Da&&(Y(),0<La&&J("dppc_loadTime360",Date.now()-La)),I.find("#iv360Spinner").hide(),
c.show(),sa=5*aa.imageLocations[Math.floor(Ia/aa.imageLocations[0].length)][Ia%aa.imageLocations[0].length],U(a,b))};c.attr("src",P(a[Da]))}}function P(a){var b=Math.round(Ha),c=Math.round(Pa);return a.replace(/(\._SP)\d+(,)\d+/,"$1"+b+"$2"+c)}function N(){var a=I.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("<div id='image-360-sprites'></div>"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative",
"-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),l("<img>").attr("src",M.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Za=!0,ka())}function ka(){if(b.isDefined(aa.spriteURLs)&&b.isDefined(I)&&Za&&!ya){var a=I.find("#ivLarge360"),c=l("<div>").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(aa.staticImages.hint360)&&
l("<img>").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",aa.staticImages.hint360).appendTo(c);l("<div>").css({"text-align":"center"}).text(M.staticStrings.dragToSpin).appendTo(c);c.appendTo(a);var c=aa.imageWidth,d=aa.imageHeight,e=a.parent().width(),f=a.parent().height(),g,h,k=0,m=0;c/d>e/f?(g=e,h=Math.round(d/c*g),m=(f-h)/2):(h=f,g=Math.round(c/d*h),k=(e-g)/2);a.css({"margin-left":k,"margin-top":m,width:g,height:h,overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",
6*g+"px");Ha=g;Pa=h;U(aa.spriteURLs,I.find("#image-360-sprites"),0);c=I.find("#ivLarge360");c.bind("mousedown",ca);c.bind("touchstart",S);c.bind("touchmove",L);c.bind("touchend",T);l(document).bind("mousemove",ea);l(document).bind("mouseup",da);b.isDefined(M.staticImages.grab)&&a.css("cursor","url('"+M.staticImages.grab+"'), auto");ya=!0}}function S(a){Va=!0;Na=a.originalEvent.targetTouches[0].clientX}function L(a){Va&&(ba(a.originalEvent.targetTouches[0].clientX-Na),Na=a.originalEvent.targetTouches[0].clientX)}
function T(a){Va&&(Va=!1)}function ca(a){va=!0;xa=a.originalEvent.clientX;b.isDefined(M.staticImages.grabbing)&&(a=I.find("#ivLarge360"),a.css("cursor","url('"+M.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+M.staticImages.grabbing+"'), auto"));return!1}function ea(a){va&&(ba(a.originalEvent.clientX-xa),xa=a.originalEvent.clientX)}function da(a){va&&(va=!1,b.isDefined(M.staticImages.grab)&&(a=I.find("#ivLarge360"),a.css("cursor","url('"+M.staticImages.grab+
"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function ba(a){for(a=sa-=a/Ha*180;0>a;)a+=360;for(;360<a;)a-=360;sa=a;var c;a=360;for(var d=0;d<Da;d++)for(var e=0;e<aa.imageLocations[d].length;e++){var f=Math.abs(sa-5*aa.imageLocations[d][e]);f<a&&(a=f,c=d*aa.imageLocations[0].length+e)}c!==Ia&&(a=Math.floor(c/aa.imageLocations[0].length),a!==Math.floor(Ia/aa.imageLocations[0].length)&&(b.isDefined(Ja)||(Ja=document.createElement("canvas").getContext("2d")),d=I.find("#image-360-sprites").children(),
Ja.drawImage(d[a],0,0)),a=I.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ia=c;a=c%aa.imageLocations[0].length*-1*Ha;c=-1*Math.floor(c/aa.imageLocations[0].length)*Pa;d=I.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function ta(){I.delegate(".ivThumb","click",function(){var a=l(this);Q(a)});I.delegate(".ivThumbVideoListOuter",
"click",function(){I.find(".ivThumbVideoListOuter").removeClass("selected");var a=l(this);a.addClass("selected");Z.type="chromeful-video";Z.index=a.attr("id").split("_")[1];x()})}function qa(){la&&!la.isDetached()&&(wa.volume=la.getVolume(),la.detach(),!document.all||z.atob||document.addEventListener||(la=null));I.find("#ivLargeImage").empty();K()}function ha(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function fa(a){var b=Qa.top-(a.pageY-Ma[1])*Ra;a=ha(Qa.left-(a.pageX-Ma[0])*Ra,fb.left);b=ha(b,
fb.top);I.find(".fullscreen").css({left:a,top:b})}function Ca(){I.delegate("#ivLargeImage","click",function(a){if(Sa)D();else if(Ua){I.find(".fullscreen").removeAttr("style");if(Ua){var b=I.find("#ivLargeImage"),c=b.find(".fullscreen");jb?b.css("cursor","url('"+M.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Sa=!0;var d=I.find("#ivLargeImage");fb.left=d.width()-c.width();fb.top=d.height()-c.height();var d=b.height()/
2,e=b.width()/2;Ma=[b.offset().left+e,b.offset().top+d];Qa.top=d-c.height()/2;Qa.left=e-c.width()/2;c.css({position:"relative",left:Qa.left,top:Qa.top});Ra=Math.max(c.height()/b.height(),c.width()/b.width())}fa(a)}});I.delegate("#ivLargeImage","mousemove",function(a){Sa&&fa(a)})}function na(a){if(b.isImmersiveViewEnabled(M,ja.getCurrentItem().color)){ua=b.isDefined(a)&&"button-360-click"===a.action;c.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(pa))pa.show();else{a=l("#auiImmersiveViewDiv");
var e=l(z).height()-150,f=l(z).width()-75;pa=d.create(a,{name:"immersiveView",activate:"onclick",width:f,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});a.click()}if(ib){I=l("#ivMain");a=ja.getCurrentItem().color;ma=M.colorImages[a];A=M.heroImage[a];Aa=M.useChildVideos?M.colorToVideo[a]:M.videos;eb=X()&&M.spin360ColorEnabled[a];aa=X()?M.spin360ColorData[a]:O;u();Ga=B=ra=W=0;b.isDefined(A)&&(B=A.length);b.isDefined(ma)&&(W=ma.length);b.isDefined(Aa)&&(ra=Aa.length);eb&&(Ga=1);a=I.find("#ivTitle");
a.attr("title",M.title);a.text(h(M.title,45));if(b.isDefined(z.DetailPage)&&b.isDefined(z.DetailPage.StateController)){a=I.find("#ivVariationSelection");a.empty();var e=z.DetailPage.StateController.getState(),f=e.variation_label_order,k;for(k in f)if(f.hasOwnProperty(k)){var m=f[k],n=e.selected_variations[m],m=e.variation_display_labels[m];n&&l("<div/>").addClass("ivVariations").text(m+":"+n).appendTo(a)}}k=I.find("#ivMediaSelect");0===W+Ga||0===ra?(k.parent().hide(),I.find("#ivThumbs").addClass("noMediaSelection")):
(k.empty(),l("<option/>").attr("value","all").prop("selected",!0).text(M.staticStrings.allMedia+" ("+(B+W+Ga+ra)+")").appendTo(k),l("<option/>").attr("value","images").text(M.staticStrings.images+" ("+(B+W+Ga)+")").appendTo(k),l("<option/>").attr("value","videos").text(M.staticStrings.videos+" ("+ra+")").appendTo(k),k.parent().show(),k.val("all"));k=I.find("#ivThumbs");k.find(".ivRow").not(".placeholder").remove();a=B+W+ra+Ga;for(f=e=0;e<a;)for(n=k.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(k),
m=0;3>m&&e<a;m++,e++,f++)if(f<B){var p=A[e].thumb,q=k.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+e).appendTo(n);q.find(".ivThumbImage").css("background",'url("'+g(p)+'") center no-repeat')}else if(f>=B&&f<W+B)p=ma[e-B].thumb,q=k.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-B)).appendTo(n),q.find(".ivThumbImage").css("background",'url("'+g(p)+'") center no-repeat');else if(f>=B+W&&f<W+B+
Ga)q=k.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(n),q.find(".ivThumbImage").css("background",'url("'+(b.isDefined(M.staticImages.icon360)?g(M.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=Aa[e-W-B-Ga],q=k.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(e-W-B-Ga)).appendTo(n),q.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),
b.isDefined(p)){var w={position:"triggerTop"},t=I.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");t.find(".ivVideoPopoverTitle").text(p.title);t.find(".ivVideoPopoverDuration").text(p.durationTimestamp);w.inlineContent=t[0];r.declarative.create(q,"a-tooltip",w)}k=I.find("#ivVideoList");k.find(".ivThumbVideoListOuter").not(".placeholder").remove();a=k.find(".placeholder");for(e=0;e<ra;e++)f=Aa[e],n=a.clone().removeClass("placeholder").appendTo(k),n.attr("id",
"ivVideoList_"+e),n.find(".ivThumbImage").css("background",'url("'+f.thumbUrl+'") center no-repeat'),n.find(".ivThumbTitle").text(f.title),n.find(".ivThumbDuration").text(f.durationTimestamp);I.find("#ivLarge360").empty();Da=0;ya=Za=!1;wa=M.airyConfig;ib=!1;Ea()}}}function Ya(d){var e=M.colorToAsin[d],f={},g=500;if(e&&e.asin){f.params={asin:e.asin};var h="360"+e.asin,k=Date.now();f.success=function(a){J("dppc_asyncRequestTime360",Date.now()-k);a&&b.isDefined(a.spin360.spin360Model)?(b.ajaxState(h,
"success"),M.spin360ColorData[d]=a.spin360.spin360Model,d===ja.getCurrentItem().color&&(aa=M.spin360ColorData[d],ka())):f.error()};f.error=function(){c.postCountMetric("dppc_asyncFailed360");J("dppc_asyncRequestTime360",Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=Date.now();a.load("/gp/product/features/apparel-main-image/360.html",f)},g):b.ajaxState(h,"fail")};b.ajaxState(h)&&"fail"!==b.ajaxState(h)||(a.load("/gp/product/features/apparel-main-image/360.html",f),b.ajaxState(h,"sent"))}}function X(){return b.isDefined(M.spin360ConfigEnabled)&&
M.spin360ConfigEnabled}var V,M,ja,za,pa,I,A,ma,Aa,B,W,ra,Ga,Z,la,wa,ga,db,aa,eb,Ha,Pa,xa,Na,ua=!1,Za=!1,ya=!1,sa=0,Ia=0,La=0,va=!1,Va=!1,Da=0,Ja,jb=navigator.userAgent.match(/msie|trident/i),ib=!0,Sa=!1,Ua=!1,fb={},Qa={},Ra,Ma,Ea=r.once(function(){G();ta();Ca();r.on("a:popover:afterUpdatePosition:immersiveView",t);r.on("a:popover:afterShow:immersiveView",E);r.on("a:popover:afterHide:immersiveView",qa);m()});return function(a,d,e,f){V=this;M=a;ja=d;za=f;X()&&(M.spin360ColorData[M.landingAsinColor]=
M.spin360ColorData[M.defaultColor],M.spin360ColorEnabled[M.landingAsinColor]=M.spin360ColorEnabled[M.defaultColor]);b.isDefined(M.staticImages.icon360)&&l("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",k(M.staticImages.icon360,"_FMpng_RI_"));V.render=function(a,d,e,f,g,h){ib=!0;db=g;X()&&M.spin360ColorEnabled[a]&&!b.isDefined(M.spin360ColorData[a])&&(M.spin360ColorData[a]={},Ya(a));b.isImmersiveViewEnabled(M,ja.getCurrentItem().color)&&X()&&M.spin360ColorEnabled[a]&&
(d===M.maxAlts&&(a=f.find(".item.imageThumbnail"),e=f.find(".item.videoThumbnail"),b.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),d--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),r.declarative.create(a,"button-360-click"),f.append(a),d++,c.postCountMetric("dppc_display360"));return d};V.update=function(a){};za.register("imageClick",na);za.register("button360Click",na)}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockLoader",
function(r,d,e){return{load:function(d,b){b=b||{};b.timeout=b.timeout||4E3;r.ajax(d,b)}}});u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF").register("imageBlockUtils",function(r,d,e,l,b,a){function c(a){return null!==a&&"undefined"!==typeof a}function f(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[1],10);d>b&&(b=d)});return b}function h(a){var b=0;d.each(a,function(a,c){var d=parseInt(c[0],10);d>b&&(b=d)});return b}function g(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;
a=f(a);0<a&&(b=Math.min(b,a));return b}function k(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=h(a);0<a&&(b=Math.min(b,a));return b}function m(a){var b;d.each(a,function(a,d){c(b)||(b=d[1]/d[0])});return b||1}function q(a,b,c){b.fadeTo(500,0,function(){p(a,c);b.fadeTo(500,1)})}function u(a){a&&a.toggle()}function p(a,b){var e=b.find("img");c(e[a])&&d(e[a]).click()}function t(a,b){H[a]=b?b:H[a];return H[a]}function G(a,b,e){e=e||F;e=e.colorImages;if(1>e.length||!c(e[a])||!c(b))return-1;
var f=-1;d.each(e[a],function(a,c){c.variant===b&&(f=a)});return f}function D(a,b,e){e=e||F;e=e.colorImages;return!(c(e)&&c(e[a])&&c(e[a][b])&&c(e[a][b].main))||1>d.map(e[a][b].main,function(a,b){return b}).length?-1:e[a][b]}function v(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function C(a,b){var c;if(c=a.useIV)c=a.colorImages&&a.colorImages[b]&&0<a.colorImages[b].length?!0:!1;return c}var n,w,F=d.extend(!0,{},b,a),H={};return{isDefined:c,
isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:m,getMaxHeightOfMainImage:k,getMaxWidthOfMainImage:g,getMaxDimensionsOfMainImage:function(a,b,c){var d=k(a,b,c);b=g(a,b,c);a=m(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,d){var e=a.get(0);a=0;if(c(e)){a=e.offsetWidth/b;a=Math.min(a,d);var f;b=F.mainImageHeightPartitions;d=F.mainImageMaxSizes;if(c(d)&&c(b)){for(var g=0,h=z.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,
e=0;e<b.length;e++)h>b[e]&&(g=e+1);d.length>=g&&(f=d[g])}c(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(a,b){if(a){b=b||F;var c="";d.each(b.visualDimensions,function(b,d){a[d]&&(c+=" "+a[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,d,e){var f=d.find(".template").clone().removeClass("template").addClass("item"),g=document.createElement("img");g.src=b;f.find(".placeHolder").replaceWith(g);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&f.addClass("heroImageThumbnail");
c(e)&&f.addClass(e);r.declarative.create(f,"thumb-action",a);d.append(f)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,f,g,h,k,m){var p=d.extend({},c.foresterMetadataParams);null!==f&&(p.method+="."+f);var t=[];b.disabledViewIds&&(t=b.disabledViewIds);return e.embed({parentElement:a[0],streamingUrls:b.url,
contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:c.swfUrl,foresterMetadataParams:p,backgroundColor:"transparent",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},videoAds:c.videoAds,bindings:{play:function(){"ImmersiveView"===f?n||(n=!0,l.postCountMetric("dppc_chromefulVideoPlayedIV")):w||(w=!0,l.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,
b,c){g&&(q(0,h,m),u(k))}}],disabledViewIds:t})},loadMediaIntoAiry:function(a,b,c){a&&a.getMediaSourceInfo()!==b.url&&a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}})},showUnavailable:function(a){a&&(d("#imageBlock .unvailableVariation").html(a),d("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){d("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:q,toggleVideoCaption:u,selectThumbnail:p,spinner:function(a,b){var c=d("#imageBlock .a-spinner").parent();0===c.length&&(c=d("<div></div>").append(d("<span></span>").addClass("a-spinner").addClass("a-spinner-medium")),a.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px",
"border-radius":"100%"}));b?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:t,getIndexForVariant:G,getImageHash:D,lazyLoadingRequired:function(a,b,c){b=Math.max(G(a.color,b.getCurrentItem().variant,c),0);b=-1!==D(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==t(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:v,
repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();v(c,16,9,b)},d||0)},videoIngressExperimentEnabled:function(a){return a.videoIngressExperimentTreatment&&"C"!==a.videoIngressExperimentTreatment},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},isImmersiveViewEnabled:C,playVideoInImmersiveView:function(a,b){return C(a,b)&&"T2"===a.videoIngressExperimentTreatment}}});u.when("A",
"jQuery","imageBlockUtils","ImageBlockHeroUtils","postMetric").register("ImageBlockHeroImageView",function(r,d,e,l,b){function a(a,b,c,g){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var h=t.getCurrentItem();if(!g||"chromeless-video"!==h.type||!p.autoplayVideo){g=0;if("hero-image"===h.type){g=f(h.color,h.variant);if(-1===g)return;g=-1!==g?g:0}var k=b+g;k>=c&&(g=0,k=b);b=l.getHeroImageHash(p,h.color,g);-1!==b&&(z.dispatch("updateModel",{data:{index:g,thumbnailIndex:k,variant:b.variant,type:"hero-image"}}),
b=a.find(".item").get(k),e.selectGivenThumbnail(d(b),a))}}}function c(b,c,f){if("hero-video"===t.getCurrentItem().type)return b;c=p.heroImage&&p.heroImage[c];var g=b;e.isDefined(c)&&(d.each(c,function(a,c){b<p.maxAlts&&(e.createThumbnail({type:"hero-image",index:a,thumbnailIndex:b,variant:c.variant},c.thumb,D,"imageThumbnail"),b++)}),a(D,g,b,f));return b}function f(a,b){var c=p.heroImage;if(1>c.length||!e.isDefined(c[a])||!e.isDefined(b))return-1;var f=-1;d.each(c[a],function(a,c){c.variant===b&&
(f=a)});return f}function h(){if(v.length&&p.repositionHeroImage){var a=l.getHeroDimParams(p,t.getCurrentItem()),b;e.isDefined(a)&&(b=e.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",v.css({"background-position":b,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function g(a,b,c,d){if(v.length&&a&&b){if("function"===typeof c||d){var f=new Image;f.onload=d?function(){v.css("background-image",'url("'+
a+'")')}:c;f.src=a}c=b[1];var f=b[0],g;d||v.css({"background-image":'url("'+a+'")'});p.repositionHeroImage&&(b=l.getHeroDimParams(p,t.getCurrentItem(),b),e.isDefined(b)&&(c=b.width,f=b.height,g=e.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px "));v.css({"background-position":g,"background-size":c+"px "+f+"px ","max-width":c+"px ","min-height":f+"px ",filter:"","-ms-filter":""})}}function k(a,b,c,e){a=l.getHeroImageHash(p,a,b);if(-1===a)return-1;b=d.map(a.main,function(a,b){return b})[0];
g(b,a.main[b],c,e)}function m(a,b,c){if("hero-image"!==a.type)return-1;var d=f(a.color,t.getCurrentItem().variant),d=-1!==d?d:0;if(-1===l.getHeroImageHash(p,a.color,d))return-1;var e=t.getCurrentItem();a.thumbnailIndex=e.thumbnailIndex;a.type=e.type;a.variant=e.variant;a.index=d;q(a,b,c)}function q(a,b,c){var d=l.getHeroImageHash(p,a.color,a.index),e;e=a&&C&&r.equals(a,C)?!0:!1;C||(C=a);if(!e&&a||b)k(a.color,a.index,b,c),C=a;v.removeClass("hide-background");r.trigger("dp:image-block:update",d)}var u,
p,t,z,D,v,C={};return function(a,b,f,g){u=this;p=a;t=b;z=g;p.heroImage[p.landingAsinColor]=p.heroImage[p.defaultColor];u.render=function(a,b,e,f,g,h,k){D=f;v=d("#heroImage");a=c(b,a,h);m(t.getCurrentItem(),k,h);return a};u.update=function(a){var b=a.data;"ingress"!==b.type&&v.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=t.getCurrentItem().type,-1!==m(b)&&(a.captured=!0)):"hero-image"===b.type&&(q(b),"click"!==a.type&&p.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,
D))};z.register("resize",h)}});u.when("A","jQuery","imageBlockUtils","postMetric","ImageBlockAltImageView").register("ImageBlockAltImageIngressView",function(r,d,e,l,b){function a(a){a=h.heroImage[a];var b=0;a&&(b=a.length);return b}function c(a){k.find(".item").eq(a).appendTo(k).addClass("vse-scl-thumbnail")}var f,h,g,k;return function(b,d,l,p){f=this;h=b;g=p;f.render=function(b,d,g,l,m,n,p){k=l;f=this;g=h.maxAlts;l=d;m=(h.colorImages[b]?h.colorImages[b].length:0)+e.getVideosCount(b,
h)+a(b);m>g&&(n=m-g,l=d,m=k.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),n+="+",p={type:"ingress",index:0,thumbnailIndex:l,variant:""},m.find("#altIngressText").append(n),r.declarative.create(m,"thumb-action",p),k.append(m),l=l++);m=e.isDefined(h.videos[0])?e.isDefined(h.videos[0].banner):!1;h.displayVideoBanner&&h.isLargeSCLVideoThumbnail&&m&&(b=(h.colorImages[b]?h.colorImages[b].length:0)+a(b),b>=g&&h.alwaysIncludeVideo?c(d-1):
b<g&&c(b));return l};f.update=function(a){"ingress"===a.data.type&&"click"===a.type&&g.dispatch("imageClick",a)}}});u.when("A","jQuery","imageBlockUtils").register("ImageBlockState",function(r,d,e){return function(d,b,a){this.getImageHash=function(b){var f=a.getCurrentItem();b=e.getIndexForVariant(f.color,b||"MAIN",d);return e.getImageHash(f.color,b,d)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});
u.when("A","jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(r,d,e){function l(a,b){var d;if(b.repositionHeroImage){d=a[1];var e=a[0];if(768>=(z.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))d*=.7,e*=.7;else{var k=((z.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);d*=.7+.3*k;e*=.7+.3*k}d=[d,e]}return d}function b(a,b,d){var g;if(d.repositionHeroImage){var k=z.innerWidth||
document.documentElement.clientWidth||document.body.clientWidth;d=d.heroFocalPoint;if(e.isDefined(d)){g=Math.max((k-Math.min(1500,a))/2,0);var l=Math.max((k-a)/2,0);g-=l;k=Math.max(Math.min(k,1500),1024);g=g+(k-420-23)/2-a/b[1]*d}}return g}function a(a,b,h){a=a.heroImage;return!(e.isDefined(a)&&e.isDefined(a[b])&&e.isDefined(a[b][h])&&e.isDefined(a[b][h].main))||1>d.map(a[b][h].main,function(a,b){return b}).length?-1:a[b][h]}return{getHeroImageHash:a,getHeroDimParams:function(c,f,h){if(c.repositionHeroImage){if(!e.isDefined(h)){h=
a(c,f.color,f.index);if(-1===h)return;f=d.map(h.main,function(a,b){return b})[0];h=h.main[f]}f=l(h,c);c=b(f[0],h,c);return{height:f[1],width:f[0],xPos:c,yPos:75}}}}})})})(function(){var u=window.AmazonUIPageJS||window.P,z=u._namespace||u.attributeErrors;return z?z("DetailPageImageBlockAssets"):u}(),window);